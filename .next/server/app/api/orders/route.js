"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/orders/route";
exports.ids = ["app/api/orders/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forders%2Froute&page=%2Fapi%2Forders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forders%2Froute.ts&appDir=%2FUsers%2Fkrishanu8219%2FApna%20Punjab%2Fapna-punjab-pizza-kebap%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkrishanu8219%2FApna%20Punjab%2Fapna-punjab-pizza-kebap&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forders%2Froute&page=%2Fapi%2Forders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forders%2Froute.ts&appDir=%2FUsers%2Fkrishanu8219%2FApna%20Punjab%2Fapna-punjab-pizza-kebap%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkrishanu8219%2FApna%20Punjab%2Fapna-punjab-pizza-kebap&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_krishanu8219_Apna_Punjab_apna_punjab_pizza_kebap_src_app_api_orders_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/orders/route.ts */ \"(rsc)/./src/app/api/orders/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/orders/route\",\n        pathname: \"/api/orders\",\n        filename: \"route\",\n        bundlePath: \"app/api/orders/route\"\n    },\n    resolvedPagePath: \"/Users/krishanu8219/Apna Punjab/apna-punjab-pizza-kebap/src/app/api/orders/route.ts\",\n    nextConfigOutput,\n    userland: _Users_krishanu8219_Apna_Punjab_apna_punjab_pizza_kebap_src_app_api_orders_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/orders/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZvcmRlcnMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRm9yZGVycyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRm9yZGVycyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmtyaXNoYW51ODIxOSUyRkFwbmElMjBQdW5qYWIlMkZhcG5hLXB1bmphYi1waXp6YS1rZWJhcCUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZrcmlzaGFudTgyMTklMkZBcG5hJTIwUHVuamFiJTJGYXBuYS1wdW5qYWItcGl6emEta2ViYXAmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ21DO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBuYS1wdW5qYWItcGl6emEta2ViYXAvPzk4OGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2tyaXNoYW51ODIxOS9BcG5hIFB1bmphYi9hcG5hLXB1bmphYi1waXp6YS1rZWJhcC9zcmMvYXBwL2FwaS9vcmRlcnMvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL29yZGVycy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL29yZGVyc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvb3JkZXJzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2tyaXNoYW51ODIxOS9BcG5hIFB1bmphYi9hcG5hLXB1bmphYi1waXp6YS1rZWJhcC9zcmMvYXBwL2FwaS9vcmRlcnMvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL29yZGVycy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forders%2Froute&page=%2Fapi%2Forders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forders%2Froute.ts&appDir=%2FUsers%2Fkrishanu8219%2FApna%20Punjab%2Fapna-punjab-pizza-kebap%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkrishanu8219%2FApna%20Punjab%2Fapna-punjab-pizza-kebap&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/orders/route.ts":
/*!*************************************!*\
  !*** ./src/app/api/orders/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_email__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/email */ \"(rsc)/./src/lib/email.ts\");\n/* harmony import */ var _lib_whatsapp__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/whatsapp */ \"(rsc)/./src/lib/whatsapp.ts\");\n\n\n\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        // Validate required fields\n        if (!body.customer_name || typeof body.customer_name !== \"string\" || body.customer_name.trim() === \"\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Customer name is required\"\n            }, {\n                status: 400\n            });\n        }\n        if (!body.phone || typeof body.phone !== \"string\" || body.phone.trim() === \"\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Phone number is required\"\n            }, {\n                status: 400\n            });\n        }\n        if (!body.order_type || ![\n            \"pickup\",\n            \"delivery\"\n        ].includes(body.order_type)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Order type must be either \"pickup\" or \"delivery\"'\n            }, {\n                status: 400\n            });\n        }\n        // Validate delivery address if order type is delivery\n        if (body.order_type === \"delivery\") {\n            if (!body.address || typeof body.address !== \"string\" || body.address.trim() === \"\") {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: false,\n                    error: \"Address is required for delivery orders\"\n                }, {\n                    status: 400\n                });\n            }\n        }\n        // Validate items\n        if (!Array.isArray(body.items) || body.items.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Order must contain at least one item\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate each item\n        for (const item of body.items){\n            if (!item.id || !item.name || !item.quantity || !item.unit_price) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: false,\n                    error: \"Each item must have id, name, quantity, and unit_price\"\n                }, {\n                    status: 400\n                });\n            }\n            if (typeof item.quantity !== \"number\" || item.quantity <= 0) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: false,\n                    error: \"Item quantity must be a positive number\"\n                }, {\n                    status: 400\n                });\n            }\n            if (typeof item.unit_price !== \"number\" || item.unit_price <= 0) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: false,\n                    error: \"Item price must be a positive number\"\n                }, {\n                    status: 400\n                });\n            }\n        }\n        // Validate total price\n        if (typeof body.total_price !== \"number\" || body.total_price <= 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Total price must be a positive number\"\n            }, {\n                status: 400\n            });\n        }\n        // Generate a temporary ID for the order (timestamp + random)\n        const orderId = `ORD-${Date.now().toString().slice(-6)}-${Math.floor(Math.random() * 1000)}`;\n        // Construct order object\n        const order = {\n            id: orderId,\n            customer_name: body.customer_name.trim(),\n            phone: body.phone.trim(),\n            email: body.email?.trim() || \"\",\n            order_type: body.order_type,\n            payment_method: body.payment_method || \"cash\",\n            address: body.address?.trim() || \"\",\n            location_description: body.location_description?.trim() || \"\",\n            items: body.items,\n            total_price: body.total_price,\n            created_at: new Date().toISOString(),\n            status: \"pending\"\n        };\n        // Send Email Notification\n        const emailSent = await (0,_lib_email__WEBPACK_IMPORTED_MODULE_1__.sendOrderEmail)(order, orderId);\n        // Send WhatsApp notification (non-blocking)\n        (0,_lib_whatsapp__WEBPACK_IMPORTED_MODULE_2__.sendWhatsAppNotification)(order).catch((error)=>{\n            console.error(\"Failed to send WhatsApp notification:\", error);\n        });\n        if (!emailSent) {\n            console.warn(\"Email failed to send, but order processed via WhatsApp/Local\");\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            orderId: orderId,\n            order: order,\n            message: \"Order placed successfully\"\n        }, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"Error processing order:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: error instanceof Error ? error.message : \"Failed to process order\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFDVFEsT0FBT0E7WUFDUFUsU0FBUztRQUNYLEdBQ0E7WUFBRWpDLFFBQVE7UUFBSTtJQUVsQixFQUFFLE9BQU9ELE9BQU87UUFDZGdDLFFBQVFoQyxLQUFLLENBQUMsMkJBQTJCQTtRQUN6QyxPQUFPVixxREFBWUEsQ0FBQ00sSUFBSSxDQUN0QjtZQUNFRyxTQUFTO1lBQ1RDLE9BQU9BLGlCQUFpQm1DLFFBQVFuQyxNQUFNa0MsT0FBTyxHQUFHO1FBQ2xELEdBQ0E7WUFBRWpDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBuYS1wdW5qYWItcGl6emEta2ViYXAvLi9zcmMvYXBwL2FwaS9vcmRlcnMvcm91dGUudHM/OGQyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBzZW5kT3JkZXJFbWFpbCB9IGZyb20gJ0AvbGliL2VtYWlsJztcbmltcG9ydCB7IHNlbmRXaGF0c0FwcE5vdGlmaWNhdGlvbiB9IGZyb20gJ0AvbGliL3doYXRzYXBwJztcbmltcG9ydCB7IE9yZGVyIH0gZnJvbSAnQC90eXBlcy9vcmRlcic7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG5cbiAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICBpZiAoIWJvZHkuY3VzdG9tZXJfbmFtZSB8fCB0eXBlb2YgYm9keS5jdXN0b21lcl9uYW1lICE9PSAnc3RyaW5nJyB8fCBib2R5LmN1c3RvbWVyX25hbWUudHJpbSgpID09PSAnJykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0N1c3RvbWVyIG5hbWUgaXMgcmVxdWlyZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIWJvZHkucGhvbmUgfHwgdHlwZW9mIGJvZHkucGhvbmUgIT09ICdzdHJpbmcnIHx8IGJvZHkucGhvbmUudHJpbSgpID09PSAnJykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1Bob25lIG51bWJlciBpcyByZXF1aXJlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghYm9keS5vcmRlcl90eXBlIHx8ICFbJ3BpY2t1cCcsICdkZWxpdmVyeSddLmluY2x1ZGVzKGJvZHkub3JkZXJfdHlwZSkpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdPcmRlciB0eXBlIG11c3QgYmUgZWl0aGVyIFwicGlja3VwXCIgb3IgXCJkZWxpdmVyeVwiJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZGVsaXZlcnkgYWRkcmVzcyBpZiBvcmRlciB0eXBlIGlzIGRlbGl2ZXJ5XG4gICAgaWYgKGJvZHkub3JkZXJfdHlwZSA9PT0gJ2RlbGl2ZXJ5Jykge1xuICAgICAgaWYgKCFib2R5LmFkZHJlc3MgfHwgdHlwZW9mIGJvZHkuYWRkcmVzcyAhPT0gJ3N0cmluZycgfHwgYm9keS5hZGRyZXNzLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnQWRkcmVzcyBpcyByZXF1aXJlZCBmb3IgZGVsaXZlcnkgb3JkZXJzJyB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGl0ZW1zXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGJvZHkuaXRlbXMpIHx8IGJvZHkuaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnT3JkZXIgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBpdGVtJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZWFjaCBpdGVtXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGJvZHkuaXRlbXMpIHtcbiAgICAgIGlmICghaXRlbS5pZCB8fCAhaXRlbS5uYW1lIHx8ICFpdGVtLnF1YW50aXR5IHx8ICFpdGVtLnVuaXRfcHJpY2UpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRWFjaCBpdGVtIG11c3QgaGF2ZSBpZCwgbmFtZSwgcXVhbnRpdHksIGFuZCB1bml0X3ByaWNlJyB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGl0ZW0ucXVhbnRpdHkgIT09ICdudW1iZXInIHx8IGl0ZW0ucXVhbnRpdHkgPD0gMCkge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdJdGVtIHF1YW50aXR5IG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlbS51bml0X3ByaWNlICE9PSAnbnVtYmVyJyB8fCBpdGVtLnVuaXRfcHJpY2UgPD0gMCkge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdJdGVtIHByaWNlIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgdG90YWwgcHJpY2VcbiAgICBpZiAodHlwZW9mIGJvZHkudG90YWxfcHJpY2UgIT09ICdudW1iZXInIHx8IGJvZHkudG90YWxfcHJpY2UgPD0gMCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1RvdGFsIHByaWNlIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBHZW5lcmF0ZSBhIHRlbXBvcmFyeSBJRCBmb3IgdGhlIG9yZGVyICh0aW1lc3RhbXAgKyByYW5kb20pXG4gICAgY29uc3Qgb3JkZXJJZCA9IGBPUkQtJHtEYXRlLm5vdygpLnRvU3RyaW5nKCkuc2xpY2UoLTYpfS0ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApfWA7XG5cbiAgICAvLyBDb25zdHJ1Y3Qgb3JkZXIgb2JqZWN0XG4gICAgY29uc3Qgb3JkZXI6IE9yZGVyID0ge1xuICAgICAgaWQ6IG9yZGVySWQsIC8vIEFkZCBJRCB0byBvcmRlciBvYmplY3RcbiAgICAgIGN1c3RvbWVyX25hbWU6IGJvZHkuY3VzdG9tZXJfbmFtZS50cmltKCksXG4gICAgICBwaG9uZTogYm9keS5waG9uZS50cmltKCksXG4gICAgICBlbWFpbDogYm9keS5lbWFpbD8udHJpbSgpIHx8ICcnLFxuICAgICAgb3JkZXJfdHlwZTogYm9keS5vcmRlcl90eXBlLFxuICAgICAgcGF5bWVudF9tZXRob2Q6IGJvZHkucGF5bWVudF9tZXRob2QgfHwgJ2Nhc2gnLFxuICAgICAgYWRkcmVzczogYm9keS5hZGRyZXNzPy50cmltKCkgfHwgJycsXG4gICAgICBsb2NhdGlvbl9kZXNjcmlwdGlvbjogYm9keS5sb2NhdGlvbl9kZXNjcmlwdGlvbj8udHJpbSgpIHx8ICcnLFxuICAgICAgaXRlbXM6IGJvZHkuaXRlbXMsXG4gICAgICB0b3RhbF9wcmljZTogYm9keS50b3RhbF9wcmljZSxcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHN0YXR1czogJ3BlbmRpbmcnXG4gICAgfTtcblxuICAgIC8vIFNlbmQgRW1haWwgTm90aWZpY2F0aW9uXG4gICAgY29uc3QgZW1haWxTZW50ID0gYXdhaXQgc2VuZE9yZGVyRW1haWwob3JkZXIsIG9yZGVySWQpO1xuICAgIFxuICAgIC8vIFNlbmQgV2hhdHNBcHAgbm90aWZpY2F0aW9uIChub24tYmxvY2tpbmcpXG4gICAgc2VuZFdoYXRzQXBwTm90aWZpY2F0aW9uKG9yZGVyKS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzZW5kIFdoYXRzQXBwIG5vdGlmaWNhdGlvbjonLCBlcnJvcik7XG4gICAgfSk7XG5cbiAgICBpZiAoIWVtYWlsU2VudCkge1xuICAgICAgIGNvbnNvbGUud2FybignRW1haWwgZmFpbGVkIHRvIHNlbmQsIGJ1dCBvcmRlciBwcm9jZXNzZWQgdmlhIFdoYXRzQXBwL0xvY2FsJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBvcmRlcklkOiBvcmRlcklkLFxuICAgICAgICBvcmRlcjogb3JkZXIsIC8vIFJldHVybiB0aGUgZnVsbCBvcmRlciBvYmplY3Qgc28gZnJvbnRlbmQgY2FuIGRpc3BsYXkgaXRcbiAgICAgICAgbWVzc2FnZTogJ09yZGVyIHBsYWNlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiAyMDEgfVxuICAgICk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyBvcmRlcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBwcm9jZXNzIG9yZGVyJyxcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwic2VuZE9yZGVyRW1haWwiLCJzZW5kV2hhdHNBcHBOb3RpZmljYXRpb24iLCJQT1NUIiwicmVxdWVzdCIsImJvZHkiLCJqc29uIiwiY3VzdG9tZXJfbmFtZSIsInRyaW0iLCJzdWNjZXNzIiwiZXJyb3IiLCJzdGF0dXMiLCJwaG9uZSIsIm9yZGVyX3R5cGUiLCJpbmNsdWRlcyIsImFkZHJlc3MiLCJBcnJheSIsImlzQXJyYXkiLCJpdGVtcyIsImxlbmd0aCIsIml0ZW0iLCJpZCIsIm5hbWUiLCJxdWFudGl0eSIsInVuaXRfcHJpY2UiLCJ0b3RhbF9wcmljZSIsIm9yZGVySWQiLCJEYXRlIiwibm93IiwidG9TdHJpbmciLCJzbGljZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIm9yZGVyIiwiZW1haWwiLCJwYXltZW50X21ldGhvZCIsImxvY2F0aW9uX2Rlc2NyaXB0aW9uIiwiY3JlYXRlZF9hdCIsInRvSVNPU3RyaW5nIiwiZW1haWxTZW50IiwiY2F0Y2giLCJjb25zb2xlIiwid2FybiIsIm1lc3NhZ2UiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/orders/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/email.ts":
/*!**************************!*\
  !*** ./src/lib/email.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendOrderEmail: () => (/* binding */ sendOrderEmail)\n/* harmony export */ });\n/* harmony import */ var resend__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! resend */ \"(rsc)/./node_modules/resend/dist/index.mjs\");\n\nconst resend = new resend__WEBPACK_IMPORTED_MODULE_0__.Resend(process.env.RESEND_API_KEY);\nasync function sendOrderEmail(order, orderId) {\n    if (!process.env.RESEND_API_KEY) {\n        console.error(\"Missing RESEND_API_KEY\");\n        return false;\n    }\n    if (!process.env.RESTAURANT_EMAIL) {\n        console.error(\"Missing RESTAURANT_EMAIL\");\n        return false;\n    }\n    const orderDate = new Date().toLocaleString(\"it-IT\", {\n        timeZone: \"Europe/Rome\"\n    });\n    const itemsHtml = order.items.map((item)=>`\n    <tr>\n      <td style=\"padding: 8px; border-bottom: 1px solid #ddd;\">${item.quantity}x</td>\n      <td style=\"padding: 8px; border-bottom: 1px solid #ddd;\">${item.name}</td>\n      <td style=\"padding: 8px; border-bottom: 1px solid #ddd; text-align: right;\">‚Ç¨${item.unit_price.toFixed(2)}</td>\n    </tr>\n  `).join(\"\");\n    const html = `\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <style>\n        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\n        .container { max-width: 600px; margin: 0 auto; padding: 20px; border: 1px solid #eee; border-radius: 5px; }\n        .header { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #f59e0b; padding-bottom: 10px; }\n        .details { margin-bottom: 20px; background: #f9f9f9; padding: 15px; border-radius: 5px; }\n        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }\n        .total { text-align: right; font-size: 1.2em; font-weight: bold; margin-top: 10px; }\n        .footer { margin-top: 30px; text-align: center; font-size: 0.8em; color: #777; }\n        .badge { display: inline-block; padding: 4px 8px; border-radius: 4px; background: #f59e0b; color: white; font-weight: bold; }\n      </style>\n    </head>\n    <body>\n      <div class=\"container\">\n        <div class=\"header\">\n          <h1>Nuovo Ordine #${orderId.slice(-6)}</h1>\n          <p>${orderDate}</p>\n        </div>\n        \n        <div class=\"details\">\n          <p><strong>Cliente:</strong> ${order.customer_name}</p>\n          <p><strong>Telefono:</strong> <a href=\"tel:${order.phone}\">${order.phone}</a></p>\n          ${order.email ? `<p><strong>Email:</strong> ${order.email}</p>` : \"\"}\n          <p><strong>Tipo:</strong> <span class=\"badge\">${order.order_type === \"delivery\" ? \"CONSEGNA A DOMICILIO\" : \"RITIRO IN SEDE\"}</span></p>\n          ${order.order_type === \"delivery\" ? `<p><strong>Indirizzo:</strong> ${order.address}</p>` : \"\"}\n          ${order.location_description ? `<p><strong>Note:</strong> ${order.location_description}</p>` : \"\"}\n        </div>\n\n        <h3>Riepilogo Ordine</h3>\n        <table>\n          <thead>\n            <tr>\n              <th style=\"text-align: left; padding: 8px; border-bottom: 2px solid #ddd;\">Q.t√†</th>\n              <th style=\"text-align: left; padding: 8px; border-bottom: 2px solid #ddd;\">Articolo</th>\n              <th style=\"text-align: right; padding: 8px; border-bottom: 2px solid #ddd;\">Prezzo</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${itemsHtml}\n          </tbody>\n        </table>\n\n        <div class=\"total\">\n          Totale: ‚Ç¨${order.total_price.toFixed(2)}\n        </div>\n\n        <div class=\"footer\">\n          <p>Apna Punjab Pizza & Kebap</p>\n        </div>\n      </div>\n    </body>\n    </html>\n  `;\n    try {\n        // Send to Restaurant\n        await resend.emails.send({\n            from: \"Apna Punjab Pizza Kebab <onboarding@resend.dev>\",\n            to: [\n                process.env.RESTAURANT_EMAIL\n            ],\n            subject: `üçï Nuovo Ordine da ${order.customer_name} - ‚Ç¨${order.total_price.toFixed(2)}`,\n            html: html\n        });\n        // Send to Customer if email is provided\n        if (order.email) {\n            await resend.emails.send({\n                from: \"Apna Punjab Pizza Kebab <onboarding@resend.dev>\",\n                to: [\n                    order.email\n                ],\n                subject: `Conferma Ordine #${orderId.slice(-6)} - Apna Punjab Pizza Kebab`,\n                html: html\n            });\n        }\n        console.log(\"Emails sent successfully\");\n        return true;\n    } catch (error) {\n        console.error(\"Error sending email:\", error);\n        return false;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YXAvLi9zcmMvbGliL2VtYWlsLnRzPzRjMTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVzZW5kIH0gZnJvbSAncmVzZW5kJztcbmltcG9ydCB7IE9yZGVyIH0gZnJvbSAnQC90eXBlcy9vcmRlcic7XG5cbmNvbnN0IHJlc2VuZCA9IG5ldyBSZXNlbmQocHJvY2Vzcy5lbnYuUkVTRU5EX0FQSV9LRVkpO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9yZGVyRW1haWwob3JkZXI6IE9yZGVyLCBvcmRlcklkOiBzdHJpbmcpIHtcbiAgaWYgKCFwcm9jZXNzLmVudi5SRVNFTkRfQVBJX0tFWSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ01pc3NpbmcgUkVTRU5EX0FQSV9LRVknKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoIXByb2Nlc3MuZW52LlJFU1RBVVJBTlRfRU1BSUwpIHtcbiAgICBjb25zb2xlLmVycm9yKCdNaXNzaW5nIFJFU1RBVVJBTlRfRU1BSUwnKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBvcmRlckRhdGUgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCdpdC1JVCcsIHsgdGltZVpvbmU6ICdFdXJvcGUvUm9tZScgfSk7XG4gIFxuICBjb25zdCBpdGVtc0h0bWwgPSBvcmRlci5pdGVtcy5tYXAoaXRlbSA9PiBgXG4gICAgPHRyPlxuICAgICAgPHRkIHN0eWxlPVwicGFkZGluZzogOHB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RkZDtcIj4ke2l0ZW0ucXVhbnRpdHl9eDwvdGQ+XG4gICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiA4cHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkO1wiPiR7aXRlbS5uYW1lfTwvdGQ+XG4gICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiA4cHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkOyB0ZXh0LWFsaWduOiByaWdodDtcIj7igqwke2l0ZW0udW5pdF9wcmljZS50b0ZpeGVkKDIpfTwvdGQ+XG4gICAgPC90cj5cbiAgYCkuam9pbignJyk7XG5cbiAgY29uc3QgaHRtbCA9IGBcbiAgICA8IURPQ1RZUEUgaHRtbD5cbiAgICA8aHRtbD5cbiAgICA8aGVhZD5cbiAgICAgIDxzdHlsZT5cbiAgICAgICAgYm9keSB7IGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgbGluZS1oZWlnaHQ6IDEuNjsgY29sb3I6ICMzMzM7IH1cbiAgICAgICAgLmNvbnRhaW5lciB7IG1heC13aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nOiAyMHB4OyBib3JkZXI6IDFweCBzb2xpZCAjZWVlOyBib3JkZXItcmFkaXVzOiA1cHg7IH1cbiAgICAgICAgLmhlYWRlciB7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMjBweDsgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNmNTllMGI7IHBhZGRpbmctYm90dG9tOiAxMHB4OyB9XG4gICAgICAgIC5kZXRhaWxzIHsgbWFyZ2luLWJvdHRvbTogMjBweDsgYmFja2dyb3VuZDogI2Y5ZjlmOTsgcGFkZGluZzogMTVweDsgYm9yZGVyLXJhZGl1czogNXB4OyB9XG4gICAgICAgIHRhYmxlIHsgd2lkdGg6IDEwMCU7IGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7IG1hcmdpbi1ib3R0b206IDIwcHg7IH1cbiAgICAgICAgLnRvdGFsIHsgdGV4dC1hbGlnbjogcmlnaHQ7IGZvbnQtc2l6ZTogMS4yZW07IGZvbnQtd2VpZ2h0OiBib2xkOyBtYXJnaW4tdG9wOiAxMHB4OyB9XG4gICAgICAgIC5mb290ZXIgeyBtYXJnaW4tdG9wOiAzMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtc2l6ZTogMC44ZW07IGNvbG9yOiAjNzc3OyB9XG4gICAgICAgIC5iYWRnZSB7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgcGFkZGluZzogNHB4IDhweDsgYm9yZGVyLXJhZGl1czogNHB4OyBiYWNrZ3JvdW5kOiAjZjU5ZTBiOyBjb2xvcjogd2hpdGU7IGZvbnQtd2VpZ2h0OiBib2xkOyB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvaGVhZD5cbiAgICA8Ym9keT5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICAgICAgIDxoMT5OdW92byBPcmRpbmUgIyR7b3JkZXJJZC5zbGljZSgtNil9PC9oMT5cbiAgICAgICAgICA8cD4ke29yZGVyRGF0ZX08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImRldGFpbHNcIj5cbiAgICAgICAgICA8cD48c3Ryb25nPkNsaWVudGU6PC9zdHJvbmc+ICR7b3JkZXIuY3VzdG9tZXJfbmFtZX08L3A+XG4gICAgICAgICAgPHA+PHN0cm9uZz5UZWxlZm9ubzo8L3N0cm9uZz4gPGEgaHJlZj1cInRlbDoke29yZGVyLnBob25lfVwiPiR7b3JkZXIucGhvbmV9PC9hPjwvcD5cbiAgICAgICAgICAke29yZGVyLmVtYWlsID8gYDxwPjxzdHJvbmc+RW1haWw6PC9zdHJvbmc+ICR7b3JkZXIuZW1haWx9PC9wPmAgOiAnJ31cbiAgICAgICAgICA8cD48c3Ryb25nPlRpcG86PC9zdHJvbmc+IDxzcGFuIGNsYXNzPVwiYmFkZ2VcIj4ke29yZGVyLm9yZGVyX3R5cGUgPT09ICdkZWxpdmVyeScgPyAnQ09OU0VHTkEgQSBET01JQ0lMSU8nIDogJ1JJVElSTyBJTiBTRURFJ308L3NwYW4+PC9wPlxuICAgICAgICAgICR7b3JkZXIub3JkZXJfdHlwZSA9PT0gJ2RlbGl2ZXJ5JyA/IGA8cD48c3Ryb25nPkluZGlyaXp6bzo8L3N0cm9uZz4gJHtvcmRlci5hZGRyZXNzfTwvcD5gIDogJyd9XG4gICAgICAgICAgJHtvcmRlci5sb2NhdGlvbl9kZXNjcmlwdGlvbiA/IGA8cD48c3Ryb25nPk5vdGU6PC9zdHJvbmc+ICR7b3JkZXIubG9jYXRpb25fZGVzY3JpcHRpb259PC9wPmAgOiAnJ31cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGgzPlJpZXBpbG9nbyBPcmRpbmU8L2gzPlxuICAgICAgICA8dGFibGU+XG4gICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICA8dGggc3R5bGU9XCJ0ZXh0LWFsaWduOiBsZWZ0OyBwYWRkaW5nOiA4cHg7IGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjZGRkO1wiPlEudMOgPC90aD5cbiAgICAgICAgICAgICAgPHRoIHN0eWxlPVwidGV4dC1hbGlnbjogbGVmdDsgcGFkZGluZzogOHB4OyBib3JkZXItYm90dG9tOiAycHggc29saWQgI2RkZDtcIj5BcnRpY29sbzwvdGg+XG4gICAgICAgICAgICAgIDx0aCBzdHlsZT1cInRleHQtYWxpZ246IHJpZ2h0OyBwYWRkaW5nOiA4cHg7IGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjZGRkO1wiPlByZXp6bzwvdGg+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgJHtpdGVtc0h0bWx9XG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwidG90YWxcIj5cbiAgICAgICAgICBUb3RhbGU6IOKCrCR7b3JkZXIudG90YWxfcHJpY2UudG9GaXhlZCgyKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZvb3RlclwiPlxuICAgICAgICAgIDxwPkFwbmEgUHVuamFiIFBpenphICYgS2ViYXA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9ib2R5PlxuICAgIDwvaHRtbD5cbiAgYDtcblxuICB0cnkge1xuICAgIC8vIFNlbmQgdG8gUmVzdGF1cmFudFxuICAgIGF3YWl0IHJlc2VuZC5lbWFpbHMuc2VuZCh7XG4gICAgICBmcm9tOiAnQXBuYSBQdW5qYWIgUGl6emEgS2ViYWIgPG9uYm9hcmRpbmdAcmVzZW5kLmRldj4nLFxuICAgICAgdG86IFtwcm9jZXNzLmVudi5SRVNUQVVSQU5UX0VNQUlMXSxcbiAgICAgIHN1YmplY3Q6IGDwn42VIE51b3ZvIE9yZGluZSBkYSAke29yZGVyLmN1c3RvbWVyX25hbWV9IC0g4oKsJHtvcmRlci50b3RhbF9wcmljZS50b0ZpeGVkKDIpfWAsXG4gICAgICBodG1sOiBodG1sLFxuICAgIH0pO1xuXG4gICAgLy8gU2VuZCB0byBDdXN0b21lciBpZiBlbWFpbCBpcyBwcm92aWRlZFxuICAgIGlmIChvcmRlci5lbWFpbCkge1xuICAgICAgYXdhaXQgcmVzZW5kLmVtYWlscy5zZW5kKHtcbiAgICAgICAgZnJvbTogJ0FwbmEgUHVuamFiIFBpenphIEtlYmFiIDxvbmJvYXJkaW5nQHJlc2VuZC5kZXY+JyxcbiAgICAgICAgdG86IFtvcmRlci5lbWFpbF0sXG4gICAgICAgIHN1YmplY3Q6IGBDb25mZXJtYSBPcmRpbmUgIyR7b3JkZXJJZC5zbGljZSgtNil9IC0gQXBuYSBQdW5qYWIgUGl6emEgS2ViYWJgLFxuICAgICAgICBodG1sOiBodG1sLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ0VtYWlscyBzZW50IHN1Y2Nlc3NmdWxseScpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgZW1haWw6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlJlc2VuZCIsInJlc2VuZCIsInByb2Nlc3MiLCJlbnYiLCJSRVNFTkRfQVBJX0tFWSIsInNlbmRPcmRlckVtYWlsIiwib3JkZXIiLCJvcmRlcklkIiwiY29uc29sZSIsImVycm9yIiwiUkVTVEFVUkFOVF9FTUFJTCIsIm9yZGVyRGF0ZSIsIkRhdGUiLCJ0b0xvY2FsZVN0cmluZyIsInRpbWVab25lIiwiaXRlbXNIdG1sIiwiaXRlbXMiLCJtYXAiLCJpdGVtIiwicXVhbnRpdHkiLCJuYW1lIiwidW5pdF9wcmljZSIsInRvRml4ZWQiLCJqb2luIiwiaHRtbCIsInNsaWNlIiwiY3VzdG9tZXJfbmFtZSIsInBob25lIiwiZW1haWwiLCJvcmRlcl90eXBlIiwiYWRkcmVzcyIsImxvY2F0aW9uX2Rlc2NyaXB0aW9uIiwidG90YWxfcHJpY2UiLCJlbWFpbHMiLCJzZW5kIiwiZnJvbSIsInRvIiwic3ViamVjdCIsImxvZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/email.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/whatsapp.ts":
/*!*****************************!*\
  !*** ./src/lib/whatsapp.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendWhatsAppNotification: () => (/* binding */ sendWhatsAppNotification)\n/* harmony export */ });\n/**\n * Send Telegram notification to restaurant\n */ async function sendWhatsAppNotification(order) {\n    const { TELEGRAM_BOT_TOKEN, TELEGRAM_CHAT_ID } = process.env;\n    if (!TELEGRAM_BOT_TOKEN || !TELEGRAM_CHAT_ID) {\n        console.error(\"Missing Telegram environment variables\");\n        return false;\n    }\n    // Support multiple chat IDs (comma-separated)\n    const chatIds = TELEGRAM_CHAT_ID.split(\",\").map((id)=>id.trim());\n    // Format the order message\n    const orderTypeText = order.order_type === \"delivery\" ? \"\\uD83D\\uDE9A CONSEGNA\" : \"\\uD83C\\uDFEA RITIRO\";\n    const paymentMethodText = order.payment_method === \"cash\" ? \"\\uD83D\\uDCB5 Contanti\" : order.payment_method === \"satispay\" ? \"\\uD83D\\uDCF1 Satispay\" : \"\\uD83D\\uDCB3 Carta/Bancomat\";\n    const itemsList = order.items.map((item)=>`  ‚Ä¢ ${item.quantity}x ${item.name} - ‚Ç¨${item.unit_price.toFixed(2)}`).join(\"\\n\");\n    let messageBody = `üçΩÔ∏è <b>NUOVO ORDINE - Apna Punjab</b>\\n\\n`;\n    messageBody += `<b>${orderTypeText}</b>\\n\\n`;\n    messageBody += `üë§ <b>Cliente:</b> ${order.customer_name}\\n`;\n    messageBody += `üìû <b>Telefono:</b> ${order.phone}\\n`;\n    messageBody += `${paymentMethodText}\\n`;\n    if (order.order_type === \"delivery\" && order.address) {\n        messageBody += `üìç <b>Indirizzo:</b> ${order.address}\\n`;\n    }\n    if (order.location_description) {\n        messageBody += `üìù <b>Note:</b> ${order.location_description}\\n`;\n    }\n    messageBody += `\\n<b>Articoli:</b>\\n${itemsList}\\n`;\n    messageBody += `\\nüí∞ <b>Totale: ‚Ç¨${order.total_price.toFixed(2)}</b>`;\n    const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;\n    // Send to all chat IDs\n    const results = await Promise.all(chatIds.map(async (chatId)=>{\n        try {\n            const response = await fetch(url, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    chat_id: chatId,\n                    text: messageBody,\n                    parse_mode: \"HTML\"\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                console.error(`Telegram API error for chat ${chatId}:`, errorData);\n                return false;\n            }\n            const result = await response.json();\n            console.log(`Telegram notification sent to ${chatId}:`, result);\n            return true;\n        } catch (error) {\n            console.error(`Error sending Telegram notification to ${chatId}:`, error);\n            return false;\n        }\n    }));\n    // Return true if at least one message was sent successfully\n    return results.some((result)=>result === true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLLENBQUMsQ0FBQyx1Q0FBdUMsRUFBRTRCLE9BQU8sQ0FBQyxDQUFDLEVBQUU1QjtZQUNuRSxPQUFPO1FBQ1Q7SUFDRjtJQUdGLDREQUE0RDtJQUM1RCxPQUFPeUIsUUFBUW1CLElBQUksQ0FBQ0YsQ0FBQUEsU0FBVUEsV0FBVztBQUMzQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwbmEtcHVuamFiLXBpenphLWtlYmFwLy4vc3JjL2xpYi93aGF0c2FwcC50cz9kZjk1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9yZGVyIH0gZnJvbSAnQC90eXBlcy9vcmRlcic7XG5cbi8qKlxuICogU2VuZCBUZWxlZ3JhbSBub3RpZmljYXRpb24gdG8gcmVzdGF1cmFudFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFdoYXRzQXBwTm90aWZpY2F0aW9uKG9yZGVyOiBPcmRlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICBjb25zdCB7IFRFTEVHUkFNX0JPVF9UT0tFTiwgVEVMRUdSQU1fQ0hBVF9JRCB9ID0gcHJvY2Vzcy5lbnY7XG5cbiAgaWYgKCFURUxFR1JBTV9CT1RfVE9LRU4gfHwgIVRFTEVHUkFNX0NIQVRfSUQpIHtcbiAgICBjb25zb2xlLmVycm9yKCdNaXNzaW5nIFRlbGVncmFtIGVudmlyb25tZW50IHZhcmlhYmxlcycpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFN1cHBvcnQgbXVsdGlwbGUgY2hhdCBJRHMgKGNvbW1hLXNlcGFyYXRlZClcbiAgY29uc3QgY2hhdElkcyA9IFRFTEVHUkFNX0NIQVRfSUQuc3BsaXQoJywnKS5tYXAoaWQgPT4gaWQudHJpbSgpKTtcblxuICAvLyBGb3JtYXQgdGhlIG9yZGVyIG1lc3NhZ2VcbiAgY29uc3Qgb3JkZXJUeXBlVGV4dCA9IG9yZGVyLm9yZGVyX3R5cGUgPT09ICdkZWxpdmVyeScgPyAn8J+amiBDT05TRUdOQScgOiAn8J+PqiBSSVRJUk8nO1xuICBjb25zdCBwYXltZW50TWV0aG9kVGV4dCA9IG9yZGVyLnBheW1lbnRfbWV0aG9kID09PSAnY2FzaCcgPyAn8J+StSBDb250YW50aScgOiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyLnBheW1lbnRfbWV0aG9kID09PSAnc2F0aXNwYXknID8gJ/Cfk7EgU2F0aXNwYXknIDogJ/CfkrMgQ2FydGEvQmFuY29tYXQnO1xuICBjb25zdCBpdGVtc0xpc3QgPSBvcmRlci5pdGVtc1xuICAgIC5tYXAoKGl0ZW0pID0+IGAgIOKAoiAke2l0ZW0ucXVhbnRpdHl9eCAke2l0ZW0ubmFtZX0gLSDigqwke2l0ZW0udW5pdF9wcmljZS50b0ZpeGVkKDIpfWApXG4gICAgLmpvaW4oJ1xcbicpO1xuXG4gIGxldCBtZXNzYWdlQm9keSA9IGDwn42977iPIDxiPk5VT1ZPIE9SRElORSAtIEFwbmEgUHVuamFiPC9iPlxcblxcbmA7XG4gIG1lc3NhZ2VCb2R5ICs9IGA8Yj4ke29yZGVyVHlwZVRleHR9PC9iPlxcblxcbmA7XG4gIG1lc3NhZ2VCb2R5ICs9IGDwn5GkIDxiPkNsaWVudGU6PC9iPiAke29yZGVyLmN1c3RvbWVyX25hbWV9XFxuYDtcbiAgbWVzc2FnZUJvZHkgKz0gYPCfk54gPGI+VGVsZWZvbm86PC9iPiAke29yZGVyLnBob25lfVxcbmA7XG4gIG1lc3NhZ2VCb2R5ICs9IGAke3BheW1lbnRNZXRob2RUZXh0fVxcbmA7XG5cbiAgaWYgKG9yZGVyLm9yZGVyX3R5cGUgPT09ICdkZWxpdmVyeScgJiYgb3JkZXIuYWRkcmVzcykge1xuICAgIG1lc3NhZ2VCb2R5ICs9IGDwn5ONIDxiPkluZGlyaXp6bzo8L2I+ICR7b3JkZXIuYWRkcmVzc31cXG5gO1xuICB9XG5cbiAgaWYgKG9yZGVyLmxvY2F0aW9uX2Rlc2NyaXB0aW9uKSB7XG4gICAgbWVzc2FnZUJvZHkgKz0gYPCfk50gPGI+Tm90ZTo8L2I+ICR7b3JkZXIubG9jYXRpb25fZGVzY3JpcHRpb259XFxuYDtcbiAgfVxuXG4gIG1lc3NhZ2VCb2R5ICs9IGBcXG48Yj5BcnRpY29saTo8L2I+XFxuJHtpdGVtc0xpc3R9XFxuYDtcbiAgbWVzc2FnZUJvZHkgKz0gYFxcbvCfkrAgPGI+VG90YWxlOiDigqwke29yZGVyLnRvdGFsX3ByaWNlLnRvRml4ZWQoMil9PC9iPmA7XG5cbiAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXBpLnRlbGVncmFtLm9yZy9ib3Qke1RFTEVHUkFNX0JPVF9UT0tFTn0vc2VuZE1lc3NhZ2VgO1xuXG4gIC8vIFNlbmQgdG8gYWxsIGNoYXQgSURzXG4gIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICBjaGF0SWRzLm1hcChhc3luYyAoY2hhdElkKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBjaGF0X2lkOiBjaGF0SWQsXG4gICAgICAgICAgICB0ZXh0OiBtZXNzYWdlQm9keSxcbiAgICAgICAgICAgIHBhcnNlX21vZGU6ICdIVE1MJyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBUZWxlZ3JhbSBBUEkgZXJyb3IgZm9yIGNoYXQgJHtjaGF0SWR9OmAsIGVycm9yRGF0YSk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zb2xlLmxvZyhgVGVsZWdyYW0gbm90aWZpY2F0aW9uIHNlbnQgdG8gJHtjaGF0SWR9OmAsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igc2VuZGluZyBUZWxlZ3JhbSBub3RpZmljYXRpb24gdG8gJHtjaGF0SWR9OmAsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pXG4gICk7XG5cbiAgLy8gUmV0dXJuIHRydWUgaWYgYXQgbGVhc3Qgb25lIG1lc3NhZ2Ugd2FzIHNlbnQgc3VjY2Vzc2Z1bGx5XG4gIHJldHVybiByZXN1bHRzLnNvbWUocmVzdWx0ID0+IHJlc3VsdCA9PT0gdHJ1ZSk7XG59XG4iXSwibmFtZXMiOlsic2VuZFdoYXRzQXBwTm90aWZpY2F0aW9uIiwib3JkZXIiLCJURUxFR1JBTV9CT1RfVE9LRU4iLCJURUxFR1JBTV9DSEFUX0lEIiwicHJvY2VzcyIsImVudiIsImNvbnNvbGUiLCJlcnJvciIsImNoYXRJZHMiLCJzcGxpdCIsIm1hcCIsImlkIiwidHJpbSIsIm9yZGVyVHlwZVRleHQiLCJvcmRlcl90eXBlIiwicGF5bWVudE1ldGhvZFRleHQiLCJwYXltZW50X21ldGhvZCIsIml0ZW1zTGlzdCIsIml0ZW1zIiwiaXRlbSIsInF1YW50aXR5IiwibmFtZSIsInVuaXRfcHJpY2UiLCJ0b0ZpeGVkIiwiam9pbiIsIm1lc3NhZ2VCb2R5IiwiY3VzdG9tZXJfbmFtZSIsInBob25lIiwiYWRkcmVzcyIsImxvY2F0aW9uX2Rlc2NyaXB0aW9uIiwidG90YWxfcHJpY2UiLCJ1cmwiLCJyZXN1bHRzIiwiUHJvbWlzZSIsImFsbCIsImNoYXRJZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjaGF0X2lkIiwidGV4dCIsInBhcnNlX21vZGUiLCJvayIsImVycm9yRGF0YSIsImpzb24iLCJyZXN1bHQiLCJsb2ciLCJzb21lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/whatsapp.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/svix","vendor-chunks/uuid","vendor-chunks/resend","vendor-chunks/fast-sha256","vendor-chunks/@stablelib"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forders%2Froute&page=%2Fapi%2Forders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forders%2Froute.ts&appDir=%2FUsers%2Fkrishanu8219%2FApna%20Punjab%2Fapna-punjab-pizza-kebap%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkrishanu8219%2FApna%20Punjab%2Fapna-punjab-pizza-kebap&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();